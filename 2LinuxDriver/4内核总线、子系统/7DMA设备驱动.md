# DMA设备驱动
## 1. 介绍
1. DMA:Direct Memory Access
2. 作用: 通过DMA模块，可以直接对内存进行访问，而无需经过CPU，可以提高CPU的工作效率。
3. 每个DMA通道可以有以下4种操作：
   1. 源地址、目的地址都在系统总线内（内存）；
   2. 源在系统总线内，目的地址在外设总线内；
   3. 源在外设总线内，目的地址在地址总线内；
   4. 源、目的都在外设总线内
4. 两种操作模式：
   1. demand mode:一次DMA请求可以多次读写数据
   2. handshake mode:一次DMA请求只能一次读写
5. transfer size
   1. uint:读操作，写操作依次进行
   2. brust4:多次读操作后再多次写操作

## 2.DMA的硬件操作
1. 设置源、目的物理地址；
2. 设置源、目的的属性：在哪个总线上（系统总线/外设总线），以及地址是否递增，当数据传送结束时发中断方式；
3. 通过对寄存器dcon设置，确定数据传送方式（第1点的5/6）、出发方式（软件触发还是硬件触发）
4. 对dmasktrig置位操作，使能DMA。
