搜索;"S3C24XX NAND Driver"--从kernel启动文件可知
s3c2410_nand_init		(../drivers/mtd/nand/s3c2410.c)
	static int s3c24xx_nand_probe(struct platform_device *pdev)

probe函数基本程序框架：
s3c2410_nand_inithw
s3c2410_nand_init_chip
nand_scan_ident
	nand_set_defaults
	nand_get_flash_type
		chip->select_chip(mtd, 0);
		chip->cmdfunc(mtd, NAND_CMD_RESET, -1, -1);
		chip->cmdfunc(mtd, NAND_CMD_READID, 0x00, -1);
		*maf_id = chip->read_byte(mtd);
		*dev_id = chip->read_byte(mtd);
nand_scan_tail
	mtd->_erase = nand_erase;
	mtd->_read = nand_read;
	mtd->_write = nand_write;


s3c2410_nand_add_partition
	mtd_device_parse_register
		add_mtd_partitions
			add_mtd_device
					// mtd_notifiers哪里设置？
					// register_mtd_user（drivers/mtd/mtdcore.c),被drivers\mtd\mtd_blkdevs.c调用
				list_for_each_entry(not, &mtd_notifiers, list)
				not->add(mtd);
					//blktrans_notify_add
							// blktrans_majors哪里设置？
							// register_mtd_blktrans（drivers/mtd/mtd_blkdevs.c），drivers\mtd\mtdblock.c,mtdbolck_ro.c调用
							list_for_each_entry(tr, &blktrans_majors, list)
							tr->add_mtd(tr, mtd);
								mtdblock_add_mtd
									add_mtd_blktrans_dev
										// 块设备基本操作在此处实现
										
										alloc_disk
										gd->queue = new->rq;		//	new->rq = blk_init_queue(mtd_blktrans_request, &new->queue_lock);
										add_disk


